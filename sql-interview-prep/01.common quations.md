## Difference between Primary Key and Foreign Key

| Feature              | Primary Key                        | Foreign Key                             |
| -------------------- | ---------------------------------- | --------------------------------------- |
| **Uniqueness**       | Always unique                      | Can have duplicates                     |
| **NULL values**      | Not allowed                        | Allowed                                 |
| **Purpose**          | Identify each record uniquely      | Establish relationship between tables   |
| **Number per table** | One Primary Key (can be composite) | Multiple Foreign Keys allowed           |
| **Scope**            | Defined in the same table          | References Primary Key of another table |


Students Table
+------------+---------+
| student_id | name    |
+------------+---------+
| 1          | Alice   |
| 2          | Bob     |
+------------+---------+
   PK ↑

Orders Table
+----------+------------+
| order_id | student_id |
+----------+------------+
| 101      | 1          |
| 102      | 2          |
| 103      | 1          |
+----------+------------+
          FK ↑ → Students(student_id)


## Difference between Primary Key and Unique Key

| Feature             | Primary Key                         | Unique Key                                |
| ------------------- | ----------------------------------- | ----------------------------------------- |
| **Uniqueness**      | Ensures unique values               | Ensures unique values                     |
| **NULL values**     | Not allowed                         | Allowed (only one NULL in most databases) |
| **Count per table** | Only one Primary Key                | Multiple Unique Keys allowed              |
| **Index**           | Creates a Clustered Index (default) | Creates a Non-Clustered Index (default)   |
| **Purpose**         | Identifies each row uniquely        | Enforces uniqueness on specific columns   |

Employees Table
+--------+----------+------------------+
| emp_id | emp_name | email            |
+--------+----------+------------------+
| 1      | Alice    | alice@email.com  |
| 2      | Bob      | bob@email.com    |
| 3      | Charlie  | NULL             |
+--------+----------+------------------+
   PK ↑          Unique Key ↑

## What is an Index in SQL?
- An Index in SQL is a database object that improves the speed of data retrieval (SELECT queries) from a table.
- Improves efficiency in searching, filtering, and joining

| Feature              | Clustered Index                         | Non-Clustered Index                     |
| -------------------- | --------------------------------------- | --------------------------------------- |
| **Data storage**     | Stores actual data rows in sorted order | Stores separate structure with pointers |
| **Count per table**  | Only one allowed                        | Multiple allowed                        |
| **Default creation** | Created on Primary Key                  | Created manually or on Unique Keys      |

## Global Temporary Table vs Local Temporary Table in SQL

| Feature           | Local Temporary Table           | Global Temporary Table         |
| ----------------- | ------------------------------- | ------------------------------ |
| **Prefix**        | `#` (single hash)               | `##` (double hash)             |
| **Scope**         | Visible only to current session | Visible to all sessions        |
| **Lifetime**      | Removed when session ends       | Removed when last session ends |
| **Accessibility** | Private                         | Shared                         |

## What is Synonym in SQL?
- A Synonym in SQL is a database object that serves as an alias (another name) for another database object like:
1.Table
2.View
3.Stored Procedure
4.Function
- It helps simplify access to objects, especially if they are in different schemas or databases.
- To simplify query writing (shorter names).
- If you rename a table, the old name stops working ,
- If you create a synonym, both names work
```
-- Original table
SELECT * FROM Employees;

-- Create a synonym
CREATE SYNONYM Emp FOR Employees;

-- Now both names work
SELECT * FROM Employees;  -- ✅ Works
SELECT * FROM Emp;        -- ✅ Works

```
## What is a View in SQL
- A View in SQL is a virtual table that is based on the result of a SELECT query.
- It does not store data physically (by default).
- Simplify complex queries (create a shortcut).
- Improve readability and maintainability.

| Feature          | Simple View                    | Complex View                          | Materialized View                     |
| ---------------- | ------------------------------ | ------------------------------------- | ------------------------------------- |
| **Based on**     | Single table                   | Multiple tables / functions           | Any query (single/multiple tables)    |
| **DML support**  | Often supports INSERT/UPDATE   | Usually read-only                     | Read-only (acts like a real table)    |
| **Data storage** | Does not store data            | Does not store data                   | Stores data physically                |
| **Performance**  | Normal (query runs every time) | Slower (complex query runs each time) | Fast (precomputed, but needs refresh) |
| **Use case**     | Simplify a table view          | Hide complexity, joins, aggregations  | Improve performance for large queries |

## What happens to a View if the Main Table is Dropped?
- If you drop the main table, the view will still exist in the database, but it becomes unusable until the base table is recreated.
- To remove a view completely, you must Drop the view

## Can you use joins in view??
- You can absolutely use JOINs inside a VIEW
## Can you use Group By in a view ?
- Yes, GROUP BY is allowed inside a View.
- It just makes the view a Complex View.

## Difference Between Subquery and JOIN
| Feature             | **Subquery**                                                           | **JOIN**                                                        |
| ------------------- | ---------------------------------------------------------------------- | --------------------------------------------------------------- |
| **Definition**      | A query **inside another query** (nested).                             | Combines rows from two or more tables based on related columns. |
| **Syntax Location** | Usually in `WHERE`, `HAVING`, or `FROM` clause.                        | Always in `FROM` clause.                                        |
| **Execution**       | Inner query executes first, result passed to outer query.              | Executes in a single query by combining tables directly.        |
| **Performance**     | Can be **slower** if not optimized (especially correlated subqueries). | Usually **faster** because of direct table joins.               |
| **Readability**     | Easier for simple checks.                                              | Easier for retrieving related data.                             |
| **Use Case**        | When you need a value/list to filter data.                             | When you need columns from multiple tables.                     |
